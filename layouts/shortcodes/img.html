<!-- image -->
{{ if .Params.horizontal }}
  <div style="width: 100%; display:grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr;"/>
  <figure style="grid-column-start: 2;  grid-column-end: 5;"
{{ else }}
  <div style="width: 100%; display:grid; grid-template-columns: 1fr 1fr 1fr;"/>
  <figure style="grid-column-start: 2;  grid-column-end: 3;"
{{ end }}
 {{ with .Get "class" }}class="{{ . }}"{{ end }}>
    {{ with .Get "link" }}<a href="{{ . }}">{{ end }}
      <img src="{{ printf  "/charles-explorer-docs%s" (.Get "src")}}" {{ if or (.Get "alt") (.Get "caption") }}alt="{{ with .Get "alt" }}{{ . }}{{ else }}{{ .Get "caption" }}{{ end }}"{{ end }} />
      {{ if .Get "link" }}</a>{{ end }}
      {{ if or (or (.Get "title") (.Get "caption")) (.Get "attr") }}
        <figcaption style="text-align: center; width: 100%; margin-top: 1em">{{ if isset .Params "title" }}
          <span>{{ .Get "title" }}</span>{{ end }}
          {{ if or (.Get "caption") (.Get "attr") }}<p>
          {{ .Get "caption" }}
          {{ with .Get "attrlink" }}<a href="{{ . }}"> {{ end }}
            {{ .Get "attr" }}
          {{ if .Get "attrlink" }}</a> {{ end }}
          </p> {{ end }}
        </figcaption>
    {{ end }}
  </figure>
</div>
  <!-- image -->